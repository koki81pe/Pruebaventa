<!-- MOD-001: ENCABEZADO [INICIO] -->
<!--
*****************************************
PROYECTO: Prueba Ventas
ARCHIVO: index.html
VERSI√ìN: 01.29
FECHA: 31/01/2026 08:45 (UTC-5)
*****************************************
-->
<!-- MOD-001: FIN -->

<!-- MOD-002: APERTURA HTML [INICIO] -->
<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- MOD-002: FIN -->

<!-- MOD-003: ESTILOS CSS [INICIO] -->
<style>
/* MOD-003-S01: Variables globales [INICIO] */
:root {
  --primary: #4285f4;
  --danger: #ea4335;
  --gray: #f1f3f4;
  --success: #34a853;
}
/* MOD-003-S01: FIN */

/* MOD-003-S02: Estilos base (body y contenedor) [INICIO] */
body { 
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
  text-align: center; 
  padding: 20px; 
  color: #3c4043;
  background-color: #f0f2f5; /* Fondo gris neutro moderno */
}

.container { 
  max-width: 400px; 
  margin: auto;
  background-color: white;
  padding: 25px;
  
  /* REMATE SUTIL */
  border-radius: 16px; /* Bordes m√°s curvos y elegantes */
  border: 1px solid rgba(0,0,0,0.05); /* Borde casi imperceptible */
  box-shadow: 0 10px 25px rgba(0,0,0,0.1); /* Sombra suave que da elevaci√≥n */
}
/* MOD-003-S02: FIN */

/* MOD-003-S03: Bot√≥n de micr√≥fono [INICIO] */
#btnMic { 
  width: 80px; 
  height: 80px; 
  border-radius: 50%; 
  border: none;
  background-color: var(--primary);
  color: white;
  font-size: 30px;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  margin-bottom: 20px;
  outline: none;
}

#btnMic.escuchando {
  background-color: var(--danger);
  animation: pulse 1.5s infinite;
}
/* MOD-003-S03: FIN */

/* MOD-003-S04: Animaciones [INICIO] */
@keyframes pulse {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(234, 67, 53, 0.7); }
  70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(234, 67, 53, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(234, 67, 53, 0); }
}

@keyframes spin { 
  0% { transform: rotate(0deg); } 
  100% { transform: rotate(360deg); } 
}
/* MOD-003-S04: FIN */

/* MOD-003-S05: CONTROLES DE AUDIO (NUEVO) [INICIO] */
.audio-controls {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px solid #dadce0;
  display: flex;
  justify-content: center;
  gap: 20px;
}

.btn-audio {
  background: white;
  border: 1px solid #dadce0;
  border-radius: 50%;
  width: 44px;
  height: 44px;
  cursor: pointer;
  font-size: 20px;
  color: #5f6368;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.btn-audio:hover {
  background-color: #f8f9fa;
  color: var(--primary);
  border-color: var(--primary);
}

.btn-audio:active {
  transform: scale(0.92);
  background-color: #e8f0fe;
}
/* MOD-003-S05: FIN */

/* MOD-003-S06: Resumen de ventas [INICIO] */
#ventasResumen {
  margin-top: 25px;
  padding: 15px;
  background-color: var(--gray);
  border-radius: 8px;
  text-align: left;
  display: none;
}

#ventasResumen.show {
  display: block;
}

.venta-titulo {
  font-size: 16px;
  font-weight: bold;
  color: var(--success);
  margin-bottom: 10px;
  text-align: center;
}

.venta-separador {
  border-top: 2px solid #dadce0;
  margin: 10px 0;
}

.venta-item {
  font-size: 14px;
  padding: 8px 0;
  color: #5f6368;
  line-height: 1.6;
}

.venta-total {
  font-weight: bold;
  color: #202124;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 2px solid #dadce0;
  text-align: right;
  font-size: 15px;
}
/* MOD-003-S06: FIN */
</style>
<!-- MOD-003: FIN -->

<!-- MOD-004: /HEAD + BODY + DIV CLASS [INICIO] -->
</head>
<body>
<div class="container">
<!-- MOD-004: FIN -->

<!-- MOD-005: CONTENIDO HTML [INICIO] -->
<h3>Ventas Voz</h3>
<button id="btnMic">üé§</button>
<div id="status">Toca el micr√≥fono para dictar la venta</div>
<div id="loader" class="loader"></div>

<!-- V01.19: Contenedor para mostrar ventas registradas -->
<div id="ventasResumen"></div>
<!-- MOD-005: FIN -->

<!-- MOD-006: JAVASCRIPT [INICIO] -->
<script>
// MOD-006-S01: INICIADOR DE DEBUG [INICIO]
// Declaraci√≥n inicial del objeto DEBUG para uso en m√≥dulos posteriores
const DEBUG = {};
const DEBUG_TIMESTAMPS = {};
// MOD-006-S01: FIN

// MOD-006-S02: VARIABLES Y REFERENCIAS DOM (MODIFICADO) [INICIO]
// Referencias a elementos del DOM
const btn = document.getElementById('btnMic');
const status = document.getElementById('status');
const loader = document.getElementById('loader');
const ventasResumen = document.getElementById('ventasResumen');

// Variables de estado global de audio (Persistencia Local)
let narracionActiva = localStorage.getItem('muteVoz') !== 'false'; 
let ultimoMensajeVoz = ""; // Buffer para el bot√≥n ‚ñ∂
// MOD-006-S02: FIN

// MOD-006-S03: CONFIGURACI√ìN SPEECH RECOGNITION [INICIO]
// Configurar API de Reconocimiento de Voz
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

// Validar soporte del navegador
if (!SpeechRecognition) {
  status.innerHTML = "‚ùå Tu navegador no soporta reconocimiento de voz. Usa Chrome.";
  btn.style.display = "none";
} else {
  // Inicializar reconocimiento de voz
  const recognition = new SpeechRecognition();
  recognition.lang = 'es-PE';
  recognition.interimResults = false;
// MOD-006-S03: FIN

// MOD-006-S04: EVENTOS DEL MICR√ìFONO [INICIO]
  // Evento click del bot√≥n micr√≥fono
  btn.onclick = () => {
    DEBUG.separador('USUARIO PRESIONA BOT√ìN MICR√ìFONO');
    DEBUG.log('interfaz', 'Click en bot√≥n micr√≥fono detectado');
    DEBUG_TIMESTAMPS.inicio = performance.now();
    
    try {
      recognition.start();
      DEBUG.log('interfaz', 'Llamando a recognition.start()');
    } catch (e) {
      DEBUG.log('advertencia', 'Recognition ya estaba activo', {error: e.message});
      console.log("Ya estaba encendido");
    }
  };

  // Evento al iniciar escucha
  recognition.onstart = () => {
    DEBUG_TIMESTAMPS.vozInicio = performance.now();
    const duracion = ((DEBUG_TIMESTAMPS.vozInicio - DEBUG_TIMESTAMPS.inicio) / 1000).toFixed(3);
    
    DEBUG.separador('VOZ: ESCUCHA INICIADA');
    DEBUG.log('exito', `Reconocimiento de voz iniciado correctamente (${duracion}s)`, {
      idioma: recognition.lang,
      interimResults: recognition.interimResults
    });
    
    btn.classList.add('escuchando');
    status.innerText = "Te escucho... (Ej: Un jab√≥n a 5 soles)";
  };

  // Evento de error
  recognition.onerror = (event) => {
    DEBUG_TIMESTAMPS.vozError = performance.now();
    const duracion = ((DEBUG_TIMESTAMPS.vozError - DEBUG_TIMESTAMPS.vozInicio) / 1000).toFixed(3);
    
    DEBUG.separador('VOZ: ERROR DETECTADO');
    DEBUG.log('error', `Error en reconocimiento de voz: ${event.error} (${duracion}s desde inicio)`, {
      error: event.error,
      message: event.message,
      timestamp: new Date().toISOString()
    });
    
    btn.classList.remove('escuchando');
    status.innerText = "Error: " + event.error;
  };

  // Evento al obtener resultado
  recognition.onresult = (event) => {
    DEBUG_TIMESTAMPS.vozResultado = performance.now();
    const duracionVoz = ((DEBUG_TIMESTAMPS.vozResultado - DEBUG_TIMESTAMPS.vozInicio) / 1000).toFixed(3);
    const duracionTotal = ((DEBUG_TIMESTAMPS.vozResultado - DEBUG_TIMESTAMPS.inicio) / 1000).toFixed(3);
    
    btn.classList.remove('escuchando');
    const transcripcion = event.results[0][0].transcript;
    const confianza = (event.results[0][0].confidence * 100).toFixed(2);
    
    DEBUG.separador('VOZ: TRANSCRIPCI√ìN CAPTURADA');
    DEBUG.log('exito', `Transcripci√≥n obtenida (${duracionVoz}s de voz, ${duracionTotal}s total)`, {
      transcripcion: transcripcion,
      confianza: `${confianza}%`,
      isFinal: event.results[0].isFinal,
      alternativas: event.results[0].length
    });
    DEBUG.objeto('Evento completo de resultado', event.results[0]);
    
    enviarAGemini(transcripcion);
  };
}
// MOD-006-S04: FIN

// MOD-006-S05: VISUALIZACI√ìN DE VENTAS [INICIO]
/**
 * Renderiza el reporte visual e inyecta los controles de audio din√°micos
 */
function mostrarVentas(respuesta) {
  // Mantenemos el separador porque ayuda a identificar el inicio del dibujo en consola
  DEBUG.separador('HTML: CONSTRUYENDO VISUALIZACI√ìN');
  
  if (!respuesta.exito || !respuesta.ventas || respuesta.ventas.length === 0) {
    ventasResumen.classList.remove('show');
    return;
  }
  
  // 1. Construcci√≥n del listado visual
  let html = `<div class="venta-titulo">‚úÖ ${respuesta.totalVentas} venta${respuesta.totalVentas === 1 ? '' : 's'} registrada${respuesta.totalVentas === 1 ? '' : 's'}</div>`;
  html += '<div class="venta-separador"></div>';
  
  respuesta.ventas.forEach((venta) => {
    const totalF = typeof venta.total === 'number' ? venta.total.toFixed(2) : "0.00";
    const precioF = typeof venta.precio === 'number' ? venta.precio.toFixed(2) : "0.00";
    const modoTexto = venta.modo ? `(${venta.modo})` : '';
    html += `<div class="venta-item">${venta.producto} - S/ ${precioF} √ó ${venta.cantidad} = <b>S/ ${totalF}</b> ${modoTexto}</div>`;
  });
  
  if (respuesta.ventas.length > 1) {
    const totalGen = typeof respuesta.totalGeneral === 'number' ? respuesta.totalGeneral.toFixed(2) : "0.00";
    html += `<div class="venta-total">Total: S/ ${totalGen}</div>`;
  }
  
  // 2. Inserci√≥n de Pack de Botones (Mute + Stop + Play/Replay)
  const iconoMute = (typeof narracionActiva !== 'undefined' && narracionActiva) ? 'üîä' : 'üîà';
  
  html += `
  <div class="audio-controls" style="margin-top: 15px; display: flex; justify-content: center; gap: 10px;">
    <button id="btnMute" class="btn-audio" title="Mute/Unmute" style="cursor:pointer; padding: 5px 10px;">${iconoMute}</button>
    <button id="btnStop" class="btn-audio" title="Detener" style="cursor:pointer; padding: 5px 10px;">‚èπ</button>
    <button id="btnReplay" class="btn-audio" title="Repetir" style="cursor:pointer; padding: 5px 10px;">‚ñ∂</button>
  </div>`;
  
  ventasResumen.innerHTML = html;
  ventasResumen.classList.add('show');
  
  // Guardamos el mensaje para el bot√≥n Repetir (indispensable para S09)
  if (respuesta.mensajeVoz) {
    ultimoMensajeVoz = respuesta.mensajeVoz;
  }

  // 3. V√≠nculo de eventos (indispensable setTimeout para botones din√°micos)
  setTimeout(() => {
    if (typeof inicializarEventosAudio === 'function') {
      inicializarEventosAudio();
    } else {
      // Mantenemos este error porque S07 no puede saber si los botones fallaron al nacer
      DEBUG.error('interfaz', 'Error cr√≠tico: La funci√≥n de eventos de audio no existe');
    }
  }, 150); 
}
// MOD-006-S05: FIN

// MOD-006-S06: COMUNICACI√ìN CON SERVIDOR [INICIO]
function enviarAGemini(texto) {
  DEBUG_TIMESTAMPS.servidorEnvio = performance.now();
  status.innerText = "Analizando: \"" + texto + "\"";
  loader.style.display = "inline-block";
  btn.disabled = true;

  google.script.run
    .withSuccessHandler((respuesta) => {
      DEBUG_TIMESTAMPS.servidorRespuesta = performance.now();
      
      if (respuesta.exito) {
        status.innerHTML = `‚úÖ Procesado correctamente`;
        
        // --- CONSTRUCCI√ìN DE FRASE NATURAL (PRODUCTO + PRECIO + MODO) ---
        let frases = [];
        respuesta.ventas.forEach(v => {
          // Convertir decimales a formato natural (ej: 8.50 -> "8 soles 50")
          const entero = Math.floor(v.precio);
          const decimal = Math.round((v.precio - entero) * 100);
          const precioVoz = decimal > 0 ? `${entero} soles ${decimal}` : `${entero} soles`;
          const modoVoz = v.modo.toLowerCase() === 'efectivo' ? 'en efectivo' : `con ${v.modo}`;
          
          frases.push(`${v.producto}, ${precioVoz} ${modoVoz}`);
        });

        if (respuesta.ventas.length > 1) {
          const tEntero = Math.floor(respuesta.totalGeneral);
          const tDecimal = Math.round((respuesta.totalGeneral - tEntero) * 100);
          const totalVoz = tDecimal > 0 ? `${tEntero} soles ${tDecimal}` : `${tEntero} soles`;
          frases.push(`Total, ${totalVoz}`);
        }

        const fraseFinal = frases.join('. ');
        decir(fraseFinal); // Disparar Audio
        mostrarVentas(respuesta); // Mostrar Visual
        
      } else {
        status.innerHTML = respuesta.mensajes.join('<br>');
        decir("Error al registrar");
        ventasResumen.classList.remove('show');
      }
      
      loader.style.display = "none";
      btn.disabled = false;
      setTimeout(() => { if(status.innerText.includes('‚úÖ')) status.innerText = "Toca el micr√≥fono para otra venta"; }, 5000);
      
      DEBUG.log('exito', 'Ciclo de servidor completado');
    })
    .withFailureHandler((error) => {
      status.innerHTML = "‚ùå Error: " + error.message;
      loader.style.display = "none";
      btn.disabled = false;
      decir("Fallo en la conexi√≥n");
    })
    .ejecutorPrincipal(texto);
}
// MOD-006-S06: FIN

// MOD-006-S07: SISTEMA DE DEBUG [INICIO]
/**
 * Sistema de logging Nivel 3 con timestamps, colores y medici√≥n de tiempos
 * Utilizado por todos los m√≥dulos anteriores para debugging en consola F12
 */

// Configuraci√≥n de colores por tipo de log
DEBUG.colores = {
  interfaz: '#2196F3',     // Azul
  exito: '#4CAF50',        // Verde
  advertencia: '#FF9800',  // Naranja
  error: '#F44336',        // Rojo
  servidor: '#9C27B0',     // Morado
  datos: '#607D8B'         // Gris
};

// Iconos por tipo
DEBUG.iconos = {
  interfaz: 'üü¶',
  exito: 'üü¢',
  advertencia: 'üü°',
  error: 'üî¥',
  servidor: 'üü£',
  datos: '‚ö´'
};

// Funci√≥n principal de logging
DEBUG.log = function(tipo, mensaje, datos = null) {
  const timestamp = new Date().toLocaleTimeString('es-PE', {
    hour12: false,
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit',
    fractionalSecondDigits: 3
  });
  
  const color = this.colores[tipo] || '#000000';
  const icono = this.iconos[tipo] || '‚ö™';
  const tipoUpper = tipo.toUpperCase().padEnd(11, ' ');
  
  // Log principal con estilo
  console.log(
    `%c[${timestamp}] ${icono} ${tipoUpper}%c ${mensaje}`,
    `color: ${color}; font-weight: bold`,
    'color: inherit'
  );
  
  // Si hay datos adicionales, mostrarlos
  if (datos !== null && typeof datos === 'object') {
    console.log('%c  ‚îî‚îÄ Datos:', 'color: #9E9E9E; font-style: italic', datos);
  } else if (datos !== null) {
    console.log('%c  ‚îî‚îÄ Valor:', 'color: #9E9E9E; font-style: italic', datos);
  }
};

// Separador visual para secciones
DEBUG.separador = function(titulo) {
  const linea = '‚ïê'.repeat(55);
  console.log(`%c${linea}`, 'color: #9E9E9E');
  console.log(`%c${titulo}`, 'color: #2196F3; font-weight: bold; font-size: 14px');
  console.log(`%c${linea}`, 'color: #9E9E9E');
};

// Medici√≥n de tiempos entre dos timestamps
DEBUG.tiempo = function(etapa, inicio, fin) {
  const duracion = ((fin - inicio) / 1000).toFixed(3);
  const barraLongitud = Math.min(Math.round(duracion * 10), 50);
  const barra = '‚ñà'.repeat(barraLongitud);
  
  console.log(
    `%c‚è±Ô∏è  ${etapa}:%c ${duracion}s %c${barra}`,
    'color: #FF9800; font-weight: bold',
    'color: #4CAF50; font-weight: bold',
    'color: #4CAF50'
  );
};

// Visualizador de objetos con formato expandible
DEBUG.objeto = function(nombre, obj) {
  console.log(`%cüì¶ ${nombre}:`, 'color: #9C27B0; font-weight: bold');
  
  if (typeof obj === 'object' && obj !== null) {
    // Si es un array, usar tabla
    if (Array.isArray(obj)) {
      if (obj.length > 0 && typeof obj[0] === 'object') {
        console.table(obj);
      } else {
        console.log(obj);
      }
    } else {
      // Si es objeto, usar dir para expandible
      console.dir(obj);
    }
  } else {
    console.log(obj);
  }
};

// Log inicial retrospectivo
DEBUG.separador('SISTEMA INICIALIZADO');
DEBUG.log('exito', 'Sistema de Ventas por Voz cargado correctamente', {
  version: '01.05',
  modulos: ['S01-Iniciador', 'S02-Variables', 'S03-SpeechRecognition', 'S04-Eventos', 'S05-Visualizaci√≥n', 'S06-Servidor', 'S07-Debug'],
  navegador: navigator.userAgent.split(' ').pop(),
  idioma: navigator.language
});

// Log retrospectivo de Speech Recognition (MOD-006-S03)
if (typeof SpeechRecognition === 'undefined') {
  DEBUG.log('error', 'Navegador no soporta Web Speech API');
} else {
  DEBUG.log('exito', 'Speech Recognition inicializado correctamente', {
    lang: typeof recognition !== 'undefined' ? recognition.lang : 'es-PE',
    soportado: true
  });
}

DEBUG.log('interfaz', 'Esperando interacci√≥n del usuario...');
// MOD-006-S07: FIN

// MOD-006-S08: MOTOR DE S√çNTESIS DE VOZ (SABINA HUNTER II) [INICIO]
function decir(texto, esReplay = false) {
  if (!esReplay) ultimoMensajeVoz = texto;
  if (!narracionActiva && !esReplay) return;
  if (!window.speechSynthesis) return;

  // Funci√≥n interna para ejecutar el habla
  const ejecutarHabla = () => {
    window.speechSynthesis.cancel();
    const mensaje = new SpeechSynthesisUtterance(texto);
    mensaje.lang = 'es-PE';
    mensaje.rate = 1.1;

    const voces = window.speechSynthesis.getVoices();
    
    // B√∫squeda exhaustiva de Sabina o similar
    let voz = voces.find(v => v.name.toLowerCase().includes('sabina')) || 
              voces.find(v => v.name.toLowerCase().includes('dalia')) ||
              voces.find(v => v.name.toLowerCase().includes('google') && v.lang.includes('es'));

    if (voz) mensaje.voice = voz;

    window.speechSynthesis.speak(mensaje);
    DEBUG.log('interfaz', 'üîä Voz final: ' + (mensaje.voice ? mensaje.voice.name : 'Gen√©rica'));
  };

  // SI las voces a√∫n no cargan (lista vac√≠a), esperamos al evento del sistema
  if (window.speechSynthesis.getVoices().length === 0) {
    window.speechSynthesis.onvoiceschanged = ejecutarHabla;
  } else {
    ejecutarHabla();
  }
}
// MOD-006-S08: FIN

// MOD-006-S09: GESTOR DE EVENTOS DE AUDIO (NUEVO) [INICIO]
/**
 * Asigna listeners a los botones generados din√°micamente en S05
 * Incluye trazabilidad total para auditor√≠a de clics en consola
 */
function inicializarEventosAudio() {
  const bMute = document.getElementById('btnMute');
  const bStop = document.getElementById('btnStop');
  const bPlay = document.getElementById('btnReplay');

  // Evento MUTE
  if (bMute) {
    bMute.addEventListener('click', () => {
      DEBUG.separador('USUARIO PRESIONA BOT√ìN MUTE');
      toggleMute();
      DEBUG.log('interfaz', `Cambio de estado. Narraci√≥n activa: ${narracionActiva}`);
    });
  }

  // Evento DETENER
  if (bStop) {
    bStop.addEventListener('click', () => {
      DEBUG.separador('USUARIO PRESIONA BOT√ìN DETENER');
      window.speechSynthesis.cancel();
      DEBUG.log('interfaz', '‚èπ Comando cancel() enviado al navegador');
    });
  }

  // Evento REPETIR
  if (bPlay) {
    bPlay.addEventListener('click', () => {
      DEBUG.separador('USUARIO PRESIONA BOT√ìN REPETIR');
      if (typeof ultimoMensajeVoz !== 'undefined' && ultimoMensajeVoz) {
        DEBUG.log('interfaz', 'üîä Re-intentando lectura', { mensaje: ultimoMensajeVoz });
        decir(ultimoMensajeVoz, true);
      } else {
        DEBUG.log('advertencia', 'No hay mensaje en memoria para repetir');
      }
    });
  }
  
  // Log de confirmaci√≥n de que el S09 termin√≥ su trabajo
  DEBUG.log('interfaz', '‚úÖ Listeners vinculados y listos para recibir clics');
}
// MOD-006-S09: FIN

// MOD-006-S10: FUNCI√ìN TOGGLE MUTE [INICIO]
/**
 * Alterna el estado de narraci√≥n de voz y persiste la preferencia
 * Actualiza el icono del bot√≥n din√°micamente
 */
function toggleMute() {
  // Cambiar estado
  narracionActiva = !narracionActiva;
  
  // Guardar en localStorage (guardamos como string)
  localStorage.setItem('muteVoz', narracionActiva.toString());
  
  // Actualizar icono del bot√≥n
  const btnMute = document.getElementById('btnMute');
  if (btnMute) {
    btnMute.innerHTML = narracionActiva ? 'üîä' : 'üîà';
  }
  
  // Si se mute√≥ mientras habla, detener audio
  if (!narracionActiva && window.speechSynthesis) {
    window.speechSynthesis.cancel();
  }
  
  DEBUG.log('interfaz', `Estado de audio cambiado: ${narracionActiva ? 'ACTIVADO' : 'MUTEADO'}`, {
    guardadoEn: 'localStorage',
    icono: narracionActiva ? 'üîä' : 'üîà'
  });
}
// MOD-006-S10: FIN

</script>
<!-- MOD-006: FIN -->

<!-- MOD-007: C√ìDIGO DE CIERRE [INICIO] -->
</div>
</body>
</html>
<!-- MOD-007: FIN -->

<!-- MOD-099: NOTAS [INICIO] -->
<!--
DESCRIPCI√ìN:
Interfaz de reconocimiento de voz para registro de ventas.

DEPENDENCIAS:
- Web Speech API (Chrome/Edge)
- Google Apps Script: funci√≥n ejecutorPrincipal() en code.gs

ADVERTENCIAS:
- Solo funciona en navegadores con soporte Web Speech API
- Requiere permisos de micr√≥fono

HISTORIAL:
v01.05: MOD-005 submodularizado (7 subm√≥dulos) + Sistema Debug Nivel 3
v01.04: Visualizaci√≥n de ventas registradas (Producto - S/ Precio √ó Cant = S/ Total)
v01.03: Correcci√≥n de delimitadores CSS/JS seg√∫n est√°ndar CodeWorkShop
-->
<!-- MOD-099: FIN -->
